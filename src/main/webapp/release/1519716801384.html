<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<title>Display a map</title>
<meta name='viewport'
	content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>
	
<script src='../dist/mapbox-gl-dev.js'></script>
<link href='../dist/mapbox-gl.css' rel='stylesheet' />
<link rel="stylesheet"
	href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
<script
	src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
<script
	src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<style>
<style>
body {
	margin: 0;
	padding: 0;
}

#map {
	position: absolute;
	top: 0;
	bottom: 0;
	width: 100%;
}
.report {
    font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
    position: absolute;
    width: 500px;
    height: 300px;
    bottom: 20px;
    right: 20px;
}

</style>

</head>
<body>
<div id='map'></div>
	<div class='report top' id='container'>
   
	</div>
<script>

 var simple = 
{"version":8,"name":"Bright","sources":{"mp":{"type":"raster","tiles":["https://a.tiles.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}@2x.webp?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA"],"tileSize":256}},"sprite":"http://localhost:8080/sprites/sprite","glyphs":"http://localhost:8080/glyphs/{fontstack}/{range}.pbf","layers":[{"id":"background","type":"background","paint":{"background-color":"#654321"},"interactive":true},{"id":"route","type":"raster","source":"mp","paint":{}}]}
var map = new mapboxgl.Map({
container: 'map',
style : simple,
center: [116.50258484693393, 39.49965448975371],
zoom: 13.45194108308305
,pitch :60.0
})
map.on('load', function() {
map.addSource('san_d', 
{"tiles":["http://localhost:8080/datasource/{z}/{x}/{y}?service_id=20&layer_name=san_d"],"type":"vector"}
)
map.addLayer(
{"paint":{"fill-extrusion-height":["get","HEIGHT"],"fill-extrusion-opacity":0.5,"fill-extrusion-base":["get","BASE_HEIGHT"],"fill-extrusion-color":["get","COLOR"]},"id":"room-extrusion","source-layer":"san_d","source":"san_d","type":"fill-extrusion","source-name":"3d"}
)
})

var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};
option=null
option={"backgroundColor":"#fc343c","series":[{"data":[{"name":8659,"value":595665},{"name":1335,"value":605623},{"name":28729,"value":595662},{"name":7104,"value":595653},{"name":7137,"value":595652},{"name":223,"value":605607},{"name":1959,"value":605613},{"name":36,"value":605517},{"name":110,"value":605772},{"name":4100,"value":605604},{"name":93,"value":595577},{"name":459,"value":595645},{"name":1078,"value":595657},{"name":3988,"value":605635},{"name":8737,"value":595664},{"name":22,"value":615633},{"name":143,"value":605640},{"name":3,"value":615601},{"name":1623,"value":595640},{"name":4984,"value":595654},{"name":2116,"value":595547},{"name":210,"value":605654},{"name":136,"value":605546},{"name":95,"value":605770},{"name":74,"value":595544},{"name":45,"value":595554},{"name":127,"value":615701},{"name":32,"value":615702},{"name":50,"value":615614},{"name":47,"value":595553},{"name":48,"value":595546},{"name":9,"value":605576},{"name":1486,"value":605601},{"name":555,"value":595646},{"name":2221,"value":595670},{"name":93,"value":605507},{"name":64,"value":605731},{"name":3410,"value":605612},{"name":3945,"value":595642},{"name":1505,"value":595643},{"name":254,"value":595623},{"name":510,"value":595633},{"name":162,"value":595575},{"name":167,"value":605760},{"name":16,"value":595533},{"name":15,"value":605537},{"name":11,"value":615626},{"name":6,"value":605503},{"name":3,"value":605752},{"name":2,"value":605555},{"name":27,"value":615623},{"name":1,"value":605515},{"name":1,"value":615612},{"name":3111,"value":605710},{"name":190,"value":605632},{"name":576,"value":605711},{"name":5048,"value":605646},{"name":13977,"value":605602},{"name":846,"value":595647},{"name":21,"value":605672},{"name":556,"value":595632},{"name":1744,"value":595612},{"name":1550,"value":605645},{"name":113,"value":605663},{"name":73,"value":605676},{"name":329,"value":595620},{"name":81,"value":595565},{"name":17,"value":615607},{"name":356,"value":595631},{"name":129,"value":605740},{"name":108,"value":605637},{"name":187,"value":595543},{"name":15,"value":615703},{"name":8481,"value":605603},{"name":36089,"value":595672},{"name":2996,"value":605557},{"name":1962,"value":605622},{"name":2259,"value":605614},{"name":224,"value":605642},{"name":271,"value":605600},{"name":615,"value":595666},{"name":342,"value":605660},{"name":15,"value":605516},{"name":181,"value":605556},{"name":82,"value":605750},{"name":68,"value":595545},{"name":469,"value":595557},{"name":160,"value":595621},{"name":2963,"value":595641},{"name":355,"value":605761},{"name":43,"value":595564},{"name":25,"value":595567},{"name":57,"value":605506},{"name":128,"value":605741},{"name":343,"value":595624},{"name":644,"value":595677},{"name":50,"value":595566},{"name":50,"value":595555},{"name":11,"value":615635},{"name":46,"value":605662},{"name":7,"value":615617},{"name":360,"value":605722},{"name":885,"value":605616},{"name":945,"value":605624},{"name":509,"value":605631},{"name":3269,"value":595675},{"name":344,"value":605720},{"name":5738,"value":595661},{"name":111,"value":605641},{"name":4746,"value":595671},{"name":183,"value":605730},{"name":520,"value":605647},{"name":42534,"value":595673},{"name":1372,"value":605605},{"name":758,"value":595636},{"name":637,"value":595527},{"name":1557,"value":595667},{"name":66,"value":605652},{"name":24,"value":605566},{"name":134,"value":605630},{"name":544,"value":605644},{"name":42,"value":595573},{"name":128,"value":615605},{"name":91,"value":615604},{"name":317,"value":595526},{"name":42,"value":605742},{"name":3,"value":605763},{"name":39,"value":615613},{"name":14,"value":605670},{"name":4,"value":615606},{"name":9,"value":605565},{"name":5916,"value":605615},{"name":92,"value":605732},{"name":1342,"value":605625},{"name":5808,"value":605621},{"name":577,"value":605547},{"name":388,"value":605661},{"name":895,"value":595635},{"name":75,"value":615602},{"name":228,"value":605655},{"name":282,"value":595634},{"name":4947,"value":595676},{"name":276,"value":595525},{"name":575,"value":595537},{"name":523,"value":595650},{"name":70,"value":605677},{"name":114,"value":595613},{"name":112,"value":605567},{"name":127,"value":605643},{"name":423,"value":605656},{"name":80,"value":605653},{"name":137,"value":605666},{"name":13,"value":605505},{"name":28,"value":605527},{"name":36,"value":595576},{"name":101,"value":605773},{"name":51,"value":605674},{"name":131,"value":595536},{"name":59,"value":605665},{"name":58,"value":615615},{"name":55,"value":615616},{"name":558,"value":595740},{"name":52,"value":605751},{"name":10,"value":605673},{"name":376,"value":605700},{"name":1310,"value":605611},{"name":348,"value":605721},{"name":980,"value":595655},{"name":132,"value":605627},{"name":153,"value":605657},{"name":273,"value":605636},{"name":553,"value":605650},{"name":2295,"value":595651},{"name":6620,"value":595674},{"name":2465,"value":595750},{"name":351,"value":595622},{"name":8,"value":615645},{"name":52,"value":615624},{"name":41,"value":615634},{"name":2866,"value":595770},{"name":42,"value":615625},{"name":76,"value":595574},{"name":32,"value":605504},{"name":297,"value":595534},{"name":213,"value":595760},{"name":94,"value":605771},{"name":3,"value":615644},{"name":1,"value":605762},{"name":1275,"value":595656},{"name":53,"value":605633},{"name":497,"value":605617},{"name":270,"value":605610},{"name":462,"value":605626},{"name":75,"value":605651},{"name":40531,"value":595663},{"name":366,"value":605620},{"name":465,"value":605606},{"name":634,"value":595660},{"name":68,"value":615603},{"name":35,"value":605671},{"name":594,"value":605634},{"name":1279,"value":595644},{"name":141,"value":605675},{"name":1019,"value":595630},{"name":134,"value":595556},{"name":104,"value":605667},{"name":59,"value":605664},{"name":166,"value":595535},{"name":21,"value":615622}],"center":["50%","50%"],"name":"访问来源","type":"pie","radius":"55%"}],"title":{"top":20,"left":"center","text":"Customized Pie","textStyle":{"color":"#ccc"}}}

if (option && typeof option === "object") {
    myChart.setOption(option, true);
}


</script>

</body>
</html>
